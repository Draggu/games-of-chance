# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AuthPayload {
  token: String!
  user: UserEntity!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type DiceRollEntity {
  amount: Int!
  chances: Int!
  nonce: Int!
  side: DiceRollSide!
  timestamp: DateTime!
  winning: Int!
  won: Boolean!
}

input DiceRollInput {
  amount: Int!
  chances: Int!
  side: DiceRollSide = LOWER
}

enum DiceRollSide {
  LOWER
  UPPER
}

type DiceSeedEntity {
  clientSeed: String!
  nextServerSeed: String!
  previousServerSeed: String
  serverSeed: String!
}

input LoginInput {
  email: String!
  password: String!
}

type Mutation {
  deposit(amount: Int!): Int!
  login(login: LoginInput!): AuthPayload!
  placeBet(bet: PlaceBetInput!): RouletteBetEntity!
  register(register: RegisterInput!): AuthPayload!
  rollDice(createDiceInput: DiceRollInput!): DiceRollEntity!
  updateDiceSeed(newSeed: String!): DiceSeedEntity!
  updateUser(updateUser: UpdateUserInput!): UserEntity!
  withdraw(amount: Int!): Int!
}

input PageInput {
  skip: Int = 0
  take: Int = 10
}

input PlaceBetInput {
  amount: Int!
  color: RouletteBetColor!
}

type Query {
  diceHistory(page: PageInput!): [DiceRollEntity!]!
  findUser(id: ID): UserEntity!
  rouletteHistory(page: PageInput = {}): [RouletteRollEntity!]!
  rouletteStats: RouletteStatsEntity!
  seedsHistory(page: PageInput!): [RouletteSeedEntity!]!
}

input RegisterInput {
  email: String!
  name: String!
  password: String!
}

enum RouletteBetColor {
  BLACK
  GREEN
  RED
}

type RouletteBetEntity {
  amount: Int!
  color: RouletteBetColor!
  id: ID!
}

type RouletteRollEntity {
  color: RouletteBetColor!
  nonce: Int!
  timestamp: DateTime!
  winning: Int!
}

type RouletteSeedEntity {
  day: String!
  id: ID!
  privateKey: String!
  publicKey: String!
}

type RouletteStatsEntity {
  blackCount: Int!
  greenCount: Int!
  redCount: Int!
}

type Subscription {
  onRouletteResults: RouletteRollEntity!
  onRouletteRoll: ID!
}

input UpdateUserInput {
  email: String
  name: String
  password: String
}

type UserEntity {
  balance: Int!
  diceSeed: DiceSeedEntity!
  email: String!
  id: ID!
  name: String!
  password: String!
}